{% extends "components/base.html" %}

{% block title %}Prediksi Harga Rumah{% endblock %}

{% set active_page = "ai_chat" %}

{% block head %}
{{ super() }}

<style type="text/css">
  ::-webkit-scrollbar {
    width: 8px;
    height: 3px;
  }

  ::-webkit-scrollbar-button {
    background-color: #666;
  }

  ::-webkit-scrollbar-track {
    background-color: #646464;
  }

  ::-webkit-scrollbar-track-piece {
    background-color: #000;
  }

  ::-webkit-scrollbar-thumb {
    height: 50px;
    background-color: #666;
    border-radius: 3px;
  }

  ::-webkit-scrollbar-corner {
    background-color: #646464;
  }

  ::-webkit-resizer {
    background-color: #666;
  }

  html {
    scrollbar-face-color: #646464;
    scrollbar-base-color: #646464;
    scrollbar-3dlight-color: #646464;
    scrollbar-highlight-color: #646464;
    scrollbar-track-color: #000;
    scrollbar-arrow-color: #000;
    scrollbar-shadow-color: #646464;
    scrollbar-darkshadow-color: #646464;
  }

  .chatbox-wrapper {
    height: 50vh;
  }

  .messages-container {
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    row-gap: 1rem;
    height: 100%;
    overflow-y: auto;
    padding: 25px;
  }

  .message-item-box {
    border: 1px solid var(--bulma-border);
    border-radius: 6px;
    padding: 20px;
  }

  .recolor-avatar {
    filter: invert(48%) sepia(13%) saturate(3207%) hue-rotate(130deg) brightness(95%) contrast(80%);
  }

  .send-button {
    width: 100%;
    height: 100%;
  }

  .house-image {
    max-height: 128px;
  }
</style>
{% endblock %}


{% block content %}
<h1 class="title">Tanya Rumah AI</h1>

<div class="fixed-grid has-12-cols mt-6 chatbox-wrapper">
  <div id="messages-container" class="messages-container mb-6">
    <chat-message chatrole="assistant" content="Halo! Mau cari rumah apa?"></chat-message>
  </div>

  <div class="grid">
    <div class="cell is-col-span-10">
      <textarea class="textarea" placeholder="Chat di sini..." rows="3" name="chat-box" id="chat-box"></textarea>
    </div>

    <div class="cell">
      <div class="file send-button">
        <label class="file-label send-button">
          <input class="file-input send-button" type="file" name="upload-button" id="upload-button" />
          <span class="file-cta send-button is-justify-content-center">
            <span class="file-label">Unggah</span>
          </span>
        </label>
      </div>
    </div>

    <div class="cell is-col-span-1">
      <button id="send-button" class="button is-info send-button">
        Kirim
      </button>
    </div>

  </div>
</div>

{% endblock %}


{% block page_script %}
{{ super() }}

<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}
